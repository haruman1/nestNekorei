import{r,R as S,j as e,C as c}from"./index-BB0ary-t.js";import{a as w}from"./cil-lock-locked-BtT7L54V.js";import{c as z,X as D}from"./index.es-CxZt8Elb.js";import{C as v}from"./index.esm-Dj7D1ChR.js";import{H as L}from"./Helmet-DZyAMZdI.js";import{a as b}from"./CContainer-BuaRqK5u.js";import{C as k,a as E}from"./CCardBody-DrDQO12W.js";import{C as B}from"./CCardHeader-BhcC4fGr.js";import{C as i}from"./CButton-DHuFRseq.js";import{b as H}from"./CFormInput-BZOZynwh.js";const X=()=>{const[s,n]=r.useState(!0),[x,m]=r.useState([]),[g,l]=r.useState([]),[u,h]=r.useState(""),[y,d]=S.useState(!0),p=async()=>{n(!0),d(!0);try{const t=await w.get("https://x-yq.xyz/products/categories",{headers:{Authorization:"Bearer "+localStorage.getItem("authToken")}});if(t.data.status===200){const a=t.data.data;m(a),l(a)}}catch(t){console.error("Error fetching data:",t)}finally{n(!1),d(!1)}},f=t=>{const a=t.target.value.toLowerCase();h(a);const j=x.filter(o=>o.name.toLowerCase().includes(a)||o.id.toLowerCase().includes(a)||o.image.toLowerCase().includes(a));l(j)};r.useEffect(()=>{p()},[]);const C=[{name:"No",cell:(t,a)=>a+1,width:"50px",sortable:!1},{name:"ID",selector:t=>t.id,sortable:!0,style:{padding:"4px 8px",fontSize:"14px"}},{name:"Name",selector:t=>t.name,sortable:!0,style:{padding:"4px 8px",fontSize:"14px"}},{name:"Image",selector:t=>t.image?e.jsx("img",{src:`https://ucarecdn.com/${t.image}/`,alt:"product",style:{width:"40px"}}):e.jsx("img",{src:"https://via.placeholder.com/40x40",alt:"placeholder"}),style:{padding:"4px 8px",textAlign:"center"}},{name:"Edit/Delete",cell:t=>e.jsxs("div",{style:{display:"flex",gap:"4px"},children:[e.jsx(i,{color:"primary",variant:"outline",size:"sm",style:{fontSize:"12px",padding:"4px 6px"},children:"Edit"}),e.jsx(i,{color:"danger",variant:"outline",size:"sm",style:{fontSize:"12px",padding:"4px 6px"},children:"Delete"})]}),ignoreRowClick:!0,allowOverflow:!0,button:!0,style:{padding:"4px 8px"}}];return e.jsxs(e.Fragment,{children:[e.jsxs(L,{children:[e.jsx("title",{children:"List Produk - Nekorei Management"}),e.jsx("meta",{name:"description",content:"List Produk yang tersedia di Nekoreishion Management"})]}),e.jsx(b,{children:e.jsxs(k,{style:{margin:"10px"},children:[e.jsxs(B,{children:[e.jsx("h3",{style:{marginBottom:"10px"},children:"Product Data"}),e.jsx(i,{color:"primary",onClick:p,disabled:s,style:{float:"right",marginBottom:"10px"},children:s?e.jsx(c,{size:"sm"}):e.jsx(v,{icon:z})})]}),e.jsxs(E,{style:{padding:"10px"},children:[e.jsx(H,{type:"text",placeholder:"Search by Name, Description, or ID...",value:u,onChange:f,style:{marginBottom:"10px",width:"300px"}}),s?e.jsx(c,{color:"primary"}):e.jsx(D,{columns:C,data:g,progressPending:y,pagination:!0,highlightOnHover:!0,pointerOnHover:!0,responsive:!0,striped:!0,customStyles:{table:{style:{padding:"0",margin:"0"}},headRow:{style:{padding:"1px 2px",fontSize:"11px"}},rows:{style:{minHeight:"25px",padding:"2px"}},cells:{style:{padding:"2px 3px",fontSize:"11px"}}}})]})]})})]})};export{X as default};
