import{r as n,j as e,C as b}from"./index-LIEJRkrL.js";import{c as w,a as P,S as u}from"./cil-lock-locked-zwVFJp_A.js";import{C as x}from"./index.esm-CWSLtNjm.js";import{H as E}from"./Helmet-DUZFqjzQ.js";import{a as R}from"./CContainer-BoogBarz.js";import{C as T,a as L}from"./CRow-BZplSTW2.js";import{C as B,a as I}from"./CCardBody-QOkoizK2.js";import{C as A,a as N}from"./CForm-GiDIBLCp.js";import{C as i,a as l}from"./CInputGroupText-DPTT_Zeq.js";import{c as F}from"./cil-user-Ddrdy7PS.js";import{b as c}from"./CFormInput-DqRM0xn9.js";import{C as G}from"./CButton-DxiArMZ_.js";import"./Transition-TKWYJH10.js";const Z=()=>{const[s,y]=n.useState({name:"",email:"",password:"",repeatPassword:""}),[j,m]=n.useState(null),[C,g]=n.useState(null),[S,d]=n.useState(!1),a=p=>{const{id:h,value:r}=p.target;y(o=>({...o,[h]:r}))},k=async()=>{const{email:p,name:h,password:r,repeatPassword:o}=s;(!h||!p||!r||!o)&&(m("Silahkan isi semua kolom dengan benar."),g(null)),r!==o&&(m("Passwords don't match."),g(null)),d(!0);const v={name:s.name,email:s.email,role:"admin",password:s.password};P.post("http://localhost:3001/users/register",v).then(t=>{t.status===201&&(u.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:f=>{f.onmouseenter=u.stopTimer,f.onmouseleave=u.resumeTimer}}).fire({icon:"success",title:"Akun sudah terdaftar, silahkan login"}),setTimeout(()=>{d(!1),window.location.href="auth/login"},3e3))}).catch(t=>{d(!1),m(t.response.data.message),console.log("Error registering user:",t)})};return e.jsxs(e.Fragment,{children:[e.jsxs(E,{children:[e.jsx("title",{children:"Register - Nekorei Management"}),e.jsx("meta",{name:"description",content:"Login Page yang tersedia di Nekoreishion Management"})]}),e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(R,{children:e.jsx(T,{className:"justify-content-center",children:e.jsx(L,{md:9,lg:7,xl:6,children:e.jsxs(B,{className:"mx-4",children:[e.jsx(I,{className:"p-4",children:e.jsxs(A,{children:[e.jsx("h1",{children:"Register"}),e.jsx("p",{className:"text-body-secondary",children:"Create your account"}),j&&e.jsx(N,{color:"danger",children:j}),C&&e.jsx(N,{color:"sucess",children:C})," ",e.jsxs(i,{className:"mb-3",children:[e.jsx(l,{children:e.jsx(x,{icon:F})}),e.jsx(c,{id:"name",placeholder:"Name",autoComplete:"name",value:s.name,onChange:a})]}),e.jsxs(i,{className:"mb-3",children:[e.jsx(l,{children:"@"}),e.jsx(c,{id:"email",placeholder:"Email",autoComplete:"email",value:s.email,onChange:a})]}),e.jsxs(i,{className:"mb-3",children:[e.jsx(l,{children:e.jsx(x,{icon:w})}),e.jsx(c,{id:"password",type:"password",placeholder:"Password",autoComplete:"new-password",value:s.password,onChange:a})]}),e.jsxs(i,{className:"mb-4",children:[e.jsx(l,{children:e.jsx(x,{icon:w})}),e.jsx(c,{id:"repeatPassword",type:"password",placeholder:"Repeat password",autoComplete:"new-password",value:s.repeatPassword,onChange:a})]}),e.jsx("div",{className:"d-grid",children:S?e.jsx("div",{className:"text-center",children:e.jsx(b,{color:"primary"})}):e.jsx(G,{color:"success",onClick:k,children:"Create Account"})})]})}),"Sudah daftar? Silahkan ",e.jsx("a",{href:"#/auth/login",children:"Login"})]})})})})})]})};export{Z as default};
